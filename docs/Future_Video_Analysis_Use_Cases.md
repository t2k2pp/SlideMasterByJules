# 動画分析機能のユースケースと実装戦略

## 1. 現在の実装状況とユースケース

SlideMasterには、動画コンテンツからプレゼンテーション資料を半自動生成する機能が実装されています。これは、2つの主要なアプローチによって実現されます。

### 1.1. Manual Slide Generator（手動生成）

ユーザーが事前に用意した**動画**と**タイムスタンプ付きMarkdown**を組み合わせ、マニュアルやチュートリアル形式のスライドを生成する機能です。

- **入力**: 
    1.  操作説明などの動画ファイル (`.mp4`, `.webm`など)
    2.  各手順のタイムスタンプと説明を記述したMarkdownファイル
- **処理**: 
    - Markdownを解析し、タイムスタンプと説明文を抽出します。
    - 指定されたタイムスタンプに基づき、動画から自動でフレーム（静止画）を切り出します。
    - 抽出したフレームと説明文を組み合わせ、スライドを自動生成します。
- **主なユースケース**: 
    - **技術・開発**: ソフトウェアの操作マニュアル、開発手順のドキュメント化
    - **教育・研修**: オンライン講座の補助資料、e-ラーニングコンテンツ作成
    - **エンタメ・クリエイティブ**: 料理動画のレシピカード、DIYの手順書

### 1.2. AI Video Analyzer（AIによる動画分析）

ユーザーがアップロードした**動画**をAIが直接分析し、その内容に基づいた**マニュアルの構成案（タイムスタンプ付きMarkdown）**を自動生成する機能です。

- **入力**: 
    1.  分析対象の動画ファイル
- **処理**: 
    - Geminiのマルチモーダル機能を活用し、動画の内容（画面の遷移、操作、音声など）を分析します。
    - 分析結果を基に、主要なステップや場面を特定し、それぞれにタイムスタンプと説明文を付与したMarkdownを生成します。
- **生成されたMarkdownの活用**: 
    - 生成されたMarkdownをユーザーが確認・修正します。
    - 修正後のMarkdownを`Manual Slide Generator`に入力することで、最終的なスライドを生成できます。
- **主なユースケース**: 
    - **社内コミュニケーション**: 会議録画からの議事録スライド作成、イベント動画からのハイライト資料作成
    - **ビジネス活用**: 顧客インタビュー動画からの事例紹介スライド、商品デモ動画からのプレゼン資料作成
    - **マーケティング**: YouTubeライブ配信からの要点まとめ、製品レビュー動画からの改善点抽出

## 2. 今後の拡張方針

現在の機能を基盤とし、よりシームレスで高度な動画活用を目指します。

### 2.1. シナリオベースの全自動生成

ユーザーが動画をアップロードし、**「どのような目的のスライドを作りたいか」**（例：「会議の議事録」「製品プロモーション」）を選択するだけで、AIが最適な分析とスライド生成を全自動で行う機能を目指します。

#### 実装戦略

1.  **シナリオ選択UIの実装**: `WelcomeScreen`や`AIAssistant`に、動画の用途を選択するドロップダウンメニューを追加します。
    ```
    動画の用途を選択してください:
    - 会議・ミーティング記録
    - 製品デモ・チュートリアル
    - イベント・行事の記録
    - ... (その他、Future_Video_Analysis_Use_Cases.md に記載のカテゴリ)
    ```
2.  **用途別AIプロンプトの最適化**: 各シナリオに応じて、`geminiService`内の動画分析プロンプトを動的に変更します。
    - **会議録画の場合**: 「発言者、決定事項、議題の変遷に注目して要約し、タイムスタンプを付けてください。」
    - **製品デモの場合**: 「主要な機能の操作手順をステップバイステップで説明し、各ステップの開始タイムスタンプを記録してください。」
3.  **シナリオ別スライドテンプレート**: 生成されたMarkdownの内容を、シナリオに最適化されたスライドレイアウトに自動で適用します。
    - **議事録**: 「議題」「発言者」「決定事項」といった項目を持つテンプレート。
    - **チュートリアル**: 「ステップ1」「ポイント」といった項目を持つテンプレート。

### 2.2. 技術的検討事項

- **プロンプトエンジニアリング**: シナリオごとの精度を高めるため、継続的なプロンプトの改善が必要です。
- **UI/UX**: ユーザーが直感的に操作でき、AIの生成プロセスを理解しやすいインターフェースを設計します。
- **プライバシーとセキュリティ**: 特に機密情報を含む動画（会議録画など）を扱う際のセキュリティ対策を検討します。（例：オンデバイス処理の可能性調査）

### 2.3. 将来的なユースケース（検討中）

- **医療・ヘルスケア**: 手術動画の記録、リハビリの進捗記録など。機密性、専門用語、倫理的配慮が課題。
- **法務・コンプライアンス**: 証拠動画の分析、コンプライアンス研修など。情報の正確性と信頼性担保が課題。

## 3. Next Steps

1.  **シナリオ選択UIの設計と実装**: まずは主要な3〜4シナリオ（会議録、チュートリアル、イベント記録）から着手します。
2.  **用途別AI分析プロンプトの開発とテスト**: 各シナリオで高品質なMarkdownが生成されるよう、プロンプトを開発し、実地テストを行います。
3.  **ユーザーフィードバックの収集**: 実装した機能をユーザーに試してもらい、フィードバックを基に改善サイクルを回します。
4.  **対応シナリオの段階的な拡張**: 安定した品質が確保できたシナリオから順次、対応範囲を広げていきます。